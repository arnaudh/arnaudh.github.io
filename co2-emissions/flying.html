<html>
<head>
    <title>Flying CO₂ emissions calculator</title>
    <style type="text/css">
        body{margin:40px auto;max-width:750px;line-height:1.6;font-size:18px;color:#444;padding:0 10px}h1,h2,h3{line-height:1.2}
        img{margin:20px 0px; border: 1px solid #444}
    </style>

    <meta property="og:title" content="Flying CO₂ emissions calculator">
    <meta property="og:description" content="Calculate your flying CO₂ emissions in 3 clicks">
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://arnaudh.github.io/co2-emissions/images/screenshot_results.png">
    <meta property="og:url" content="https://arnaudh.github.io/co2-emissions/flying.html">
    <meta name="twitter:card" content="summary_large_image">
</head>
<body>

<h1>Calculate your flying CO₂ emissions in 3 clicks</h1>

<strong>NOTE</strong>: For this to work you need to be on a desktop computer, and have been using Gmail for flight bookings.<br>
<ol>
    <li>
Drag the following link to your bookmarks bar:
<a id="bookmarklet" href="javascript:if(!window.location.href.startsWith('https://www.google.com/search?q=my+past+flights')){window.open('https://accounts.google.com/ServiceLogin/signinchooser?continue=https%253A%252F%252Fwww.google.com%252Fsearch%253Fq%253Dmy%252Bpast%252Bflights&hl=en&flowName=GlifWebSignIn&flowEntry=ServiceLogin');} else { document.body.appendChild(document.createElement('script')).src='https://arnaudh.github.io/co2-emissions/js/flights_co2.js';} void(0);">
CO₂ ✈️ Calculator
</a>
    </li>

    <li>
Click on that bookmark, which will take you to your past flights on Google (log in if required).
    </li>


    <li>
While on that Google page, click on the bookmark again. This will show your CO₂ emissions from past flights.

    </li>
</ol>

The following animation demonstrates these steps:
<br>
<br>
<img src="images/screencast.gif" style="display:block;margin:auto;">
<br>
Feedback or question? Drop a line to <i>arnaaal+flights@gmail.com</i> (also checkout the <a href="#FAQ">FAQ</a> below).




<br><br><br><br><br><br><br><br><br><br><br>

<h2 id="FAQ">Frequently Asked Questions (FAQ)</h2>


<h3>Q: How does it work?</h3>
<p>
If you are a Gmail user, then when you search for "my past flights" on Google you will see a list of your recent flights.
<br><br>
The link that you have dragged to your bookmark bar is a Javascript bookmark (a <a href="https://en.wikipedia.org/wiki/Bookmarklet">bookmarklet</a>) which, when clicked on, will read the flights information on the page, and calculate an estimate of your CO₂ emissions for each flight.
The estimate is based on the exponential formula on km per flight from <a href="http://www.co2list.org/files/carbon.htm">co2list.org</a>
</p>

<h3>Q: Is my data shared in any way?</h3>
<p>
    No, but good on you for asking. The bookmarklet code runs in your browser, and no data is sent to any thrid party.
    <br><br>
    To convince yourself of that, you can switch off your internet connection just before you run the bookmarklet on the Google search page (and then closing the page before switching on the connection again).
    <br><br>
    If you know Javascript, you can also inspect the code yourself (it lives <a href="https://github.com/arnaudh/arnaudh.github.io/tree/master/co2-emissions">here</a>).
</p>

<h3>Q: You said 3 clicks, but it's 1 drag and 2 clicks.</h3>
<p>
    Sorry
</p>



<h3>Q: I can't see my past flights on Google, what's wrong?</h3>
<p>
For you to see your past flights on Google, you need to be logged in to your Google/Gmail account, and then search for "my past flights" on Google.
<br><br>
Here is a screenshot of the search results when <em>not</em> logged in:
</p>
<img src="images/screenshot_my-past-flights_logged_out.png" width="700">
<p>
If you click on the "Sign in" button in the top right and enter your Google/Gmail credentials, you should then see your past flights:
</p>
<img src="images/screenshot_my-past-flights_logged_in.png" width="700">

<p>
If you are logged in and still don't see any flights, you either have that listing feature disabled (see <a href="https://support.google.com/websearch/answer/1710607?ref_topic=3036132">here</a>), or you simply don't have any flights bookings in your Gmail inbox.
</p>

</body>
<script type="text/javascript">
(function(){

let body = document.body;
let bodyRect = document.body.getBoundingClientRect();
let bookmarklet = document.getElementById('bookmarklet');
let bookmarkletRect = bookmarklet.getBoundingClientRect();
let left = bookmarkletRect.right + 5;
let top = 0;
let width = Math.min(300, window.innerWidth-bookmarkletRect.right-10);
let height = bookmarkletRect.bottom + body.scrollTop - 5;

document.body.style.backgroundImage = 'url("images/arrow-bookmarklet.png")';
document.body.style.backgroundRepeat = 'no-repeat';
document.body.style.position = 'relative';
document.body.style.backgroundPosition = `left ${left}px top ${top}px`;
document.body.style.backgroundSize = `${width}px ${height}px`;

})();
</script>
</html>
