<html>
<head>
    <title>Flights CO₂ emissions calculator</title>
    <style type="text/css">
        body{margin:40px auto;max-width:750px;line-height:1.6;font-size:18px;color:#444;padding:0 10px}h1,h2,h3{line-height:1.2}
        .screenshot-img{margin:20px 0px; border: 1px solid #444}
    </style>

    <meta property="og:title" content="Flights CO2 emissions calculator">
    <meta property="og:description" content="Calculate your flights CO2 emissions in 2 clicks">
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://arnaudh.github.io/co2-emissions/images/screenshot_results.png">
    <meta property="og:url" content="https://arnaudh.github.io/co2-emissions/flying.html">
    <meta name="twitter:card" content="summary_large_image">
</head>
<body>

<h1>Calculate your flights CO<sub>2</sub> emissions in 2 clicks</h1>

<strong>NOTE</strong>: For this to work you need to be a Gmail user, and be on a desktop computer.<br>
<ol>
    <li>
<strong>Drag</strong> the following link to your bookmarks bar:
<a id="bookmarklet" href="javascript:if(!window.location.href.startsWith('https://www.google.com/search?q=my+past+flights')){window.open('https://accounts.google.com/ServiceLogin/signinchooser?continue=https%253A%252F%252Fwww.google.com%252Fsearch%253Fq%253Dmy%252Bpast%252Bflights&hl=en&flowName=GlifWebSignIn&flowEntry=ServiceLogin');} else { document.body.appendChild(document.createElement('script')).src='https://arnaudh.github.io/co2-emissions/js/flights_co2.js';} void(0);">
CO₂ ✈️ Calculator
</a>
    </li>

    <li>
<strong>Click</strong> on that bookmark, which will take you to your past flights on Google
    </li>


    <li>
<strong>Click again</strong> on the bookmark while on that Google page; this will show your CO₂ emissions

    </li>
</ol>

Demonstration:
<br>
<br>
<img class="screenshot-img" src="images/screencast.gif" style="display:block;margin:auto;">

<br>
Feedback or question? Drop a line to <i>arnaaal+flights@gmail.com</i> (also checkout the <a href="#FAQ">FAQ</a> below).




<br><br><br><br><br><br><br><br><br><br><br>

<h2 id="FAQ">Frequently Asked Questions (FAQ)</h2>


<h3>Q: How does it work?</h3>
<p>
If you are a Gmail user, then when you search for "my past flights" on Google you will see a list of your recent flights.
<br><br>
The link that you have dragged to your bookmarks bar is a Javascript bookmark (a <a href="https://en.wikipedia.org/wiki/Bookmarklet">bookmarklet</a>) which, when clicked on, will read the flights information on the page, and calculate an estimate of your CO₂ emissions for each flight.
The estimate is based on the exponential formula on km per flight from <a href="http://www.co2list.org/files/carbon.htm">co2list.org</a>
</p>

<h3>Q: I don't see my bookmarks bar, what's wrong?</h3>
<p>
    Your bookmarks bar may be hidden.
    If you use Chrome, you can display the bookmarks bar by clicking on the three dots in the top right <img src="images/chrome_more_button.svg" width="18" height="18" style="vertical-align: middle"> > Bookmarks > Show Bookmarks Bar.
</p>
<p>
    For other browsers, please search for instructions specific to your browser.
<p>

<h3>Q: I don't see my past flights on Google, what's wrong?</h3>
<p>
    For you to see your past flights on Google, you need to be logged in to your Google/Gmail account, and then search for "my past flights" on Google.
</p>
<p>
    Here is a screenshot of the search results when <em>not</em> logged in:
</p>
<img class="screenshot-img" src="images/screenshot_my-past-flights_logged_out.png" width="700">
<p>
    If you click on the "Sign in" button in the top right and enter your Google/Gmail credentials, you should then see your past flights:
</p>
<img class="screenshot-img" src="images/screenshot_my-past-flights_logged_in.png" width="700">
<p>
    If you are logged in and still don't see any flights, you either have that listing feature disabled (see <a href="https://support.google.com/websearch/answer/1710607?ref_topic=3036132">here</a>), or you simply don't have any flights bookings in your Gmail inbox.
</p>

</body>
<script type="text/javascript">
(function(){

let body = document.body;
let bodyRect = document.body.getBoundingClientRect();
let bookmarklet = document.getElementById('bookmarklet');
let bookmarkletRect = bookmarklet.getBoundingClientRect();
let left = bookmarkletRect.right + 5;
let top = 0;
let width = Math.min(300, window.innerWidth-bookmarkletRect.right-10);
let height = bookmarkletRect.bottom + body.scrollTop - 5;

document.body.style.backgroundImage = 'url("images/arrow-bookmarklet.png")';
document.body.style.backgroundRepeat = 'no-repeat';
document.body.style.position = 'relative';
document.body.style.backgroundPosition = `left ${left}px top ${top}px`;
document.body.style.backgroundSize = `${width}px ${height}px`;

})();
</script>
</html>
